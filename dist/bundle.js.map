{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///./src/view_model/components/main/show_details.tsx","webpack:///./src/view_model/getdata.tsx","webpack:///./src/view_model/components/footer/footer_index.tsx","webpack:///./src/view_model/components/main/musics/musics_index.tsx","webpack:///./src/view_model/components/main/movies/movies_index.tsx","webpack:///./node_modules/fetch-jsonp/build/fetch-jsonp.js","webpack:///./src/view_model/components/main/Books/books_index.tsx","webpack:///./src/view_model/components/main/main_index.tsx","webpack:///./src/view_model/components/header/search/search_index.tsx","webpack:///./src/view_model/components/header/header_index.tsx","webpack:///./src/view_model/app.tsx","webpack:///external \"ReactDOM\"","webpack:///./src/view_model/index.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","React","window","remove_element_class","className","child","document","querySelector","parentNode","removeChild","category","date","details_html","title","image","author","publisher","pubdate","average","price","tags","map","item","index","summary","genres","year","directors","castsImg","img","getElementsByClassName","innerHTML","fetchJsonp","url","Promise","resolve","reject","method","then","response","json","catch","ex","console","log","_interopRequireWildcard","Footer","_React$Component","Component","e","datatype","target","getAttribute","self","this","undefined","shake","clearTimeout","setTimeout","props","showCategory","keyword","book","refs","movie","music","style","color","showColor","createElement","id","ref","onClick","handle","bind","Musics","_classCallCheck","_this","musics","state","arguments","length","_getdata2","default","data","result","setTags","push","shift","rating","attrs","newProps","getMusic","sortData","setState","setMusciData","_show_details2","musicDetails","key","src","Movies","movies","images","small","casts","avatars","getCastsImg","getMovie","subjects","setMovieData","movesDetails","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","defaultOptions","timeout","jsonpCallback","jsonpCallbackFunction","clearFunction","functionName","removeScript","scriptId","script","getElementById","getElementsByTagName","_url","options","timeoutId","callbackFunction","Date","now","Math","ceil","random","ok","indexOf","jsonpScript","setAttribute","charset","appendChild","Error","onerror","apply","Books","books","getBooks","setBookData","bookDetails","Main","component","_movies_index2","category_component","_books_index2","_musics_index2","Seach","input_value","searchInput","searchLick","focus","type","placeholder","showText","_search_index","Header","_header_index","_main_index","_footer_index","App","ReactDOM","_app","render"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","module.exports = React;","const ShowDetails = (category: string, date: any) => {\r\n\r\n    let details_html: string = '我需要先占个位置'\r\n    switch (category) {\r\n        case 'books':\r\n            details_html = `<article class=\"item-article-details\">\r\n\r\n                                <header class=\"item-header-details\">\r\n                                     <p class=\"item-header-getback\" onclick=remove_element_class(\".item-article-details\")><返回</p>\r\n                                     <h3 class=\"item-title-details\">${date.title}</h3>\r\n                                </header>\r\n                                \r\n                                <div class=\"item-main-details\">\r\n                                    <div class=\"item-div-list\" >\r\n                                        <div class='item-div-li item-list-left'>\r\n                                            <img class='item-li-image' src=${date.image}></img>\r\n                                        </div>\r\n                                        <aside class='item-div-li item-list-right'>\r\n                                            <p class='item-name-details'>名称:${date.title}</p>\r\n                                            <p class='item-author-details'>作者:${date.author}</p>\r\n                                            <p class='item-publisher-details'>出版社:${date.publisher}</p>\r\n                                             <p class='item-pubdate--details'>时间:${date.pubdate}</p>\r\n                                             <p class='item-average-details'>评分:${date.average}</p>\r\n                                             <p class='item-price-details'>价钱:${date.price}</p>\r\n                                            <div class='item-tags-details'>${\r\n                date.tags ? (\r\n                    date.tags.map(function (item: any, index: number) {\r\n                        return `<p class='item-p-tags' key=${index}>${item}</p>`\r\n                    })\r\n                ) : ' '\r\n                }</div>                                     \r\n                                        </aside>\r\n                                        <div class=\"item-list-footer\">\r\n                                            <hr/>\r\n                                            <p >${date.summary}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            \r\n                            </article>`\r\n            break\r\n        case 'movies':\r\n            details_html = `<article class=\"movie-article-details\">\r\n                                    <header class=\"movie-header-details\">\r\n                                         <p class=\"movie-header-getback\" onclick=\"remove_element_class('.movie-article-details')\"><返回</p>\r\n                                         <h3 class=\"movie-title-details\">${date.title}</h3>\r\n                                    </header>\r\n                                    <div class=\"item-main-details\">                                  \r\n                                    <div class=\"movie-main-details\">\r\n                                            <img class='movie-li-image' src=${date.image}></img>\r\n                                    </div>                                  \r\n                                    <footer class=\"movie-footer-details\">                                                                   \r\n                                        <div class='movie-genres-details'><span>名称:${date.title}</span>${\r\n                date.genres ? (\r\n                    date.genres.map(function (item: any, index: number) {\r\n                        return `<span><p class='movie-p-genres' key=${index}>${item}</p></span>`\r\n                    })\r\n                ) : ' '\r\n                }</div>\r\n                                         <p class='movie-year-details'>上映时间:${date.year}</p>                           \r\n                                        <p class='movie-author-details'>导演:${date.directors}</p>\r\n                                        <div class='movie-castsImg-details'>${\r\n                date.castsImg ? (\r\n                    date.castsImg.map(function (item: any, index: number) {\r\n                        return `<div class=\"castsImg-item-details\" key=${index}>\r\n                                                                   <img class=\"castsImg-img-details\" src=${item.img}></img>\r\n                                                                    <p class='castsImg-name-details' >${item.name}</p>\r\n                                                                </div>`\r\n                    })\r\n                ) : ' '\r\n                }</div>                                                                                                   \r\n                                    </footer>\r\n                                    </div>                           \r\n                                </article>`\r\n            break\r\n        case 'musics':\r\n            details_html = `<article class=\"item-article-details\">\r\n\r\n                                <header class=\"item-header-details\">\r\n                                     <p class=\"item-header-getback\" onclick=\"remove_element_class('.item-article-details')\"\"><返回</p>\r\n                                     <h3 class=\"item-title-details\">${date.title}</h3>\r\n                                </header>\r\n                                \r\n                                <div class=\"item-main-details\">\r\n                                    <div class=\"item-div-list\" >\r\n                                        <div class='item-div-li item-list-left'>\r\n                                            <img class='item-li-image' src=${date.image}></img>\r\n                                        </div>\r\n                                        <aside class='item-div-li item-list-right'>\r\n                                            <p class='item-name-details'>名称:${date.title}</p>\r\n                                            <div class='item-tags-details'>${\r\n                date.tags ? (\r\n                    date.tags.map(function (item: any, index: number) {\r\n                        return `<p class='item-p-tags' key=${index}>${item}</p>`\r\n                    })\r\n                ) : ' '\r\n                }</div>          \r\n                                            <p class='item-author-details'>作者:${date.author}</p>\r\n                                            <p class='item-publisher-details'>发布商:${date.publisher}</p>\r\n                                             <p class='item-pubdate--details'>发布时间:${date.pubdate}</p>\r\n                                             <p class='item-average-details'>评分:${date.average}</p>                                                                                                        \r\n                                        </aside>\r\n                                        <div class=\"item-list-footer\">\r\n                                            <hr/>\r\n                                            <p >${date.summary}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            \r\n                            </article>`\r\n            break\r\n    }\r\n\r\n    document.getElementsByClassName('showDetails')[0].innerHTML = details_html\r\n}\r\n\r\nconst self: any = window\r\nself.remove_element_class = (className: string) => {\r\n    const child: any = document.querySelector(className)\r\n    child.parentNode.removeChild(child)\r\n}\r\n\r\nexport default ShowDetails","/**\r\n * 这里可以考虑使用一下ES7的async/await来书写异步的代码，消灭回调函数，代码看起来整洁容易理解\r\n * @type {((url: RequestInfo, options?: fetchJsonp.Options) => Promise<Response>) | any | fetchJsonp | ((url: string, options?: fetchJsonp.Options) => Promise<fetchJsonp.Response>)}\r\n */\r\nconst fetchJsonp = require('fetch-jsonp');\r\nconst getData = (url:string)=> {\r\n    let myPromis = new Promise(function (resolve, reject) {\r\n        fetchJsonp(url, {\r\n                method: 'get'\r\n            }\r\n        ).then(function (response: any) {\r\n            return response.json();\r\n        }).then(function (json: any) {\r\n            resolve(json);\r\n        }).catch(function (ex: any) {\r\n            console.log('parsing failed', ex)\r\n        })\r\n    });\r\n\r\n    return myPromis;\r\n}\r\n\r\nexport default getData;\r\n","import * as React from 'react'\r\nimport './footer_style.scss'\r\n\r\nexport class Footer extends React.Component<any> {\r\n    shake: any\r\n\r\n    handle(e: Event) {\r\n        const element: any = e.target //获取事件元素\r\n        const datatype = element.getAttribute('datatype') //获取元素类型\r\n\r\n        //按键抖动 --间隔500毫秒\r\n        let self: any = this\r\n        if (self.shake != undefined) {\r\n            clearTimeout(this.shake)\r\n        }\r\n        self.shake = setTimeout(function () {\r\n            self.props.showCategory(self.props.keyword, datatype)\r\n        }, 500)\r\n    }\r\n\r\n    /**\r\n     * 渲染类别颜色\r\n     */\r\n    showColor(){\r\n        const book: any = this.refs['appfooter-img-book']\r\n        const movie: any = this.refs['appfooter-img-movie']\r\n        const music: any = this.refs['appfooter-img-music']\r\n\r\n        book.style.color = 'black'\r\n        movie.style.color = 'black'\r\n        music.style.color = 'black'\r\n\r\n        let category = this.props.category\r\n        switch (category) {\r\n            case 'books':\r\n                book.style.color = 'blue'\r\n                break\r\n            case 'movies':\r\n                movie.style.color = 'blue'\r\n                break\r\n            case 'musics':\r\n                music.style.color = 'blue'\r\n                break\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n       this.showColor();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.showColor();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <footer className=\"app-footer\">\r\n                <div className={'appfooter-ul-item'}>\r\n                    <div id='appfooter-img-book' className={'appfooter-item-category'} ref='appfooter-img-book'\r\n                         datatype={'books'}\r\n                         onClick={this.handle.bind(this)}><p>图书</p>\r\n                    </div>\r\n\r\n                    <div id='appfooter-img-movie' className={'appfooter-item-category'} ref='appfooter-img-movie'\r\n                         datatype={'movies'}\r\n                         onClick={this.handle.bind(this)}><p>电影</p>\r\n                    </div>\r\n\r\n                    <div id='appfooter-img-music' className={'appfooter-item-category'} ref='appfooter-img-music'\r\n                         datatype={'musics'}\r\n                         onClick={this.handle.bind(this)}><p>音乐</p>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n","import * as React from 'react'\r\nimport getData from '../../../getdata'\r\nimport ShowDetails from '../show_details'\r\n\r\nclass Musics extends React.Component<any, {}> {\r\n\r\n    musics: any\r\n\r\n    constructor() {\r\n        super({}, {})\r\n        this.musics = []\r\n        this.state = {\r\n            musics: this.musics,\r\n            category: this.props.category\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取音乐数据\r\n     * @param {string} keyword\r\n     * @returns {Promise<any>}\r\n     */\r\n    getMusic(keyword = '音乐') {\r\n        let url = `https://api.douban.com/v2/music/search?q=${keyword}`\r\n        return getData(url)\r\n    }\r\n\r\n    /**\r\n     * 序列化数据\r\n     * @param children\r\n     * @param fn\r\n     * @returns {any[]}\r\n     */\r\n    sortData(data: any) {\r\n        const result: any = []\r\n        data.map(function (item: any, index: number) {\r\n            const music: any = {\r\n                image: item.image || 'o(╥﹏╥)o',\r\n                title: item.title || 'o(╥﹏╥)o',\r\n                tags: item.tags ? getTags(item.tags) : [],\r\n                author: item.author ? item.author[0].name : 'o(╥﹏╥)o',\r\n                average: item.rating ? item.rating.average : 'o(╥﹏╥)o',\r\n                publisher: item.attrs.publisher || 'o(╥﹏╥)o',\r\n                pubdate: item.attrs.pubdate || 'o(╥﹏╥)o',\r\n                summary: item.summary || 'o(╥﹏╥)o'\r\n            }\r\n            result.push(music)\r\n        })\r\n\r\n        return result\r\n\r\n        function getTags(tags: any): string[ ] {\r\n            let setTags: string[] = ['我需要先占个位置']\r\n            tags.map(function (item: any, index: number) {\r\n                setTags.push(item.name)\r\n            })\r\n            setTags.shift()\r\n            return setTags\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 展示数据\r\n     */\r\n    setMusciData(newProps:any) {\r\n        const self = this\r\n        const keyword: string = newProps.keyword\r\n        self.getMusic(keyword).then(function (musics: any) {\r\n            const data = self.sortData(musics.musics) //获取序列化数据\r\n            self.setState({\r\n                musics: data,\r\n                category: newProps.category\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    /**\r\n     * 收到数据后更新界面\r\n     */\r\n    componentDidMount(){\r\n        this.setMusciData(this.props)\r\n    }\r\n    componentWillReceiveProps(newProps:any) {\r\n        this.setMusciData(newProps)\r\n    }\r\n\r\n    /**\r\n     * 展示页面详情\r\n     */\r\n    musicDetails( ){\r\n        const self:any = this;\r\n        ShowDetails(self.category,self.data);\r\n    }\r\n    render() {\r\n        const self = this\r\n        const state: any = this.state\r\n        return (\r\n            <div className={'app-main-musics'}>{\r\n                state.musics.map(function (data: any, index: number) {\r\n                    return <div className=\"main-div-list\"onClick={self.musicDetails.bind({\r\n                        category:self.props.category,\r\n                        data:data\r\n                    })} key={index}>\r\n                        <div className='main-div-li main-list-left'>\r\n                            <img className='main-li-image' src={data.image}></img>\r\n                        </div>\r\n                        <aside className='main-div-li main-list-right'>\r\n                            <p className='main-li-name'>名称:{data.title}</p>\r\n                            <p className='main-li-author'>作者:{data.author}</p>\r\n                            <p className='main-li-average'>评分:{data.average}</p>\r\n                        </aside>\r\n                    </div>\r\n                })\r\n            }</div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Musics","import * as React from 'react'\r\nimport getData from '../../../getdata'\r\nimport ShowDetails from '../show_details'\r\n\r\nclass Movies extends React.Component<any> {\r\n    movies: any\r\n    constructor() {\r\n        super({})\r\n        this.movies = []\r\n        this.state = {\r\n            movies: this.movies,\r\n            category: this.props.category\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取电影数据\r\n     * @param {string} keyword\r\n     * @returns {Promise<any>}\r\n     */\r\n    getMovie(keyword='电影') {\r\n        let url = `https://api.douban.com/v2/movie/search?q=${keyword}`\r\n        return getData(url)\r\n\r\n    }\r\n\r\n    /**\r\n     * 序列化数据\r\n     * @param children\r\n     * @param fn\r\n     * @returns {any[]}\r\n     */\r\n    sortData(data: any) {\r\n        const result: any = []\r\n        data.map(function (item: any, index: number) {\r\n            const movie = {\r\n                image: item.images ? item.images.small : 'o(╥﹏╥)o', //图片\r\n                title: item.title || 'o(╥﹏╥)o', //标题\r\n                genres: item.genres || 'o(╥﹏╥)o', //流派\r\n                casts: item.casts ? getTags(item.casts) : [], //演员阵容\r\n                average: item.rating ? item.rating.average : 'o(╥﹏╥)o',\r\n                directors: item.directors[0] ? item.directors[0].name : 'o(╥﹏╥)o', //导演\r\n                year: item.year || 'o(╥﹏╥)o', //上映时间\r\n                castsImg: item.casts ? getCastsImg(item.casts) : [], //演员阵容图片\r\n            }\r\n\r\n            result.push(movie)\r\n        })\r\n\r\n        return result\r\n\r\n        function getTags(tags: any): string[ ] {\r\n            let setTags: string[] = ['我需要先占个位置']\r\n            tags.map(function (item: any, index: number) {\r\n                setTags.push(item.name)\r\n            })\r\n            setTags.shift()\r\n            return setTags\r\n        }\r\n\r\n        function getCastsImg(tags: any): string[ ] {\r\n            let setTags: any[] = [{}]\r\n            tags.map(function (item: any, index: number) {\r\n                setTags.push({\r\n                    name: item.name,\r\n                    img: item.avatars ? item.avatars.small : 'o(╥﹏╥)o'\r\n                })\r\n            })\r\n            setTags.shift()\r\n            return setTags\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 展示数据\r\n     */\r\n    setMovieData(newProps:any) {\r\n        const self = this\r\n        const keyword: string = newProps.keyword\r\n        self.getMovie(keyword).then(function (movies: any) {\r\n            const data = self.sortData(movies.subjects) //获取序列化数据\r\n            self.setState({\r\n                movies: data,\r\n                category: newProps.category\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    /**\r\n     * 收到数据后更新界面\r\n     */\r\n    componentDidMount(){\r\n        this.setMovieData(this.props)\r\n    }\r\n    componentWillReceiveProps(newProps:any) {\r\n        this.setMovieData(newProps)\r\n    }\r\n\r\n    /**\r\n     * 展示页面详情\r\n     */\r\n    movesDetails( ){\r\n        const self:any = this;\r\n        ShowDetails('movies',self.data);\r\n    }\r\n\r\n    render() {\r\n        const self = this\r\n        const state: any = this.state\r\n\r\n        return (\r\n            <div className={'app-main-movies'}>{\r\n                state.movies.map(function (data: any, index: number) {\r\n                    return <div className=\"main-div-list\"onClick={self.movesDetails.bind({\r\n                        category:self.props.category,\r\n                        data:data\r\n                    })} key={index}>\r\n                        <div className='main-div-li main-list-left'>\r\n                            <img className='main-li-image' src={data.image}></img>\r\n                        </div>\r\n                        <aside className='main-div-li main-list-right'>\r\n                            <p className='main-li-name'>{data.title}</p>\r\n                            <div className='main-li-genres'>{\r\n                                data.genres ? (\r\n                                    data.genres.map(function (item: any, index: number) {\r\n                                        return <p className={'main-item-genres'} key={index}>{item}</p>\r\n                                    })\r\n                                ) : ' '\r\n                            }</div>\r\n                            <div className='main-li-casts'>{\r\n                                data.casts ? (\r\n                                    data.casts.map(function (item: any, index: number) {\r\n                                        return <p className={'main-item-casts'} key={index}>{item}</p>\r\n                                    })\r\n                                ) : ' '\r\n                            }</div>\r\n                            <p className='main-li-average'>评分:{data.average}</p>\r\n                        </aside>\r\n                    </div>\r\n                })\r\n            }</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Movies","(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    if (script) {\n      document.getElementsByTagName('head')[0].removeChild(script);\n    }\n  }\n\n  function fetchJsonp(_url) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    // to avoid param reassign\n    var url = _url;\n    var timeout = options.timeout || defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n      var scriptId = jsonpCallback + '_' + callbackFunction;\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(scriptId);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);\n      if (options.charset) {\n        jsonpScript.setAttribute('charset', options.charset);\n      }\n      jsonpScript.id = scriptId;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + _url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        window[callbackFunction] = function () {\n          clearFunction(callbackFunction);\n        };\n      }, timeout);\n\n      // Caught if got 404/500\n      jsonpScript.onerror = function () {\n        reject(new Error('JSONP request to ' + _url + ' failed'));\n\n        clearFunction(callbackFunction);\n        removeScript(scriptId);\n        if (timeoutId) clearTimeout(timeoutId);\n      };\n    });\n  }\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});","import * as React from 'react'\r\nimport getData from '../../../getdata'\r\nimport ShowDetails from '../show_details'\r\n\r\nclass Books extends React.Component <any> {\r\n    books: any\r\n\r\n    constructor() {\r\n        super({})\r\n        this.books = []\r\n        this.state = {\r\n            books: this.books,\r\n            category: this.props.category\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取书籍数据\r\n     * @param {string} keyword\r\n     * @returns {Promise<any>}\r\n     */\r\n    getBooks(keyword = '图书') {\r\n        let url = `https://api.douban.com/v2/book/search?q=${keyword}`\r\n        return getData(url)\r\n    }\r\n\r\n    /**\r\n     * 序列化数据\r\n     * @param children\r\n     * @param fn\r\n     * @returns {any[]}\r\n     */\r\n    sortData(data: any) {\r\n        const result: any = []\r\n        data.map(function (item: any, index: number) {\r\n            const book = {\r\n                image: item.image || 'o(╥﹏╥)o',\r\n                title: item.title || 'o(╥﹏╥)o',\r\n                tags: item.tags ? getTags(item.tags) : [],\r\n                author: item.author ? item.author[0] : 'o(╥﹏╥)o',\r\n                average: item.rating ? item.rating.average : 'o(╥﹏╥)o',\r\n                pubdate: item.pubdate || 'o(╥﹏╥)o',\r\n                summary: item.summary || 'o(╥﹏╥)o',\r\n                publisher: item.publisher || 'o(╥﹏╥)o',\r\n                price: item.price || 'o(╥﹏╥)o'\r\n            }\r\n\r\n            result.push(book)\r\n        })\r\n\r\n        return result\r\n\r\n        function getTags(tags: any): string[ ] {\r\n            let setTags: string[] = ['我需要先占个位置']\r\n            tags.map(function (item: any, index: number) {\r\n                setTags.push(item.name)\r\n            })\r\n            setTags.shift()\r\n            return setTags\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 展示数据\r\n     */\r\n    setBookData(newProps:any) {\r\n        const self = this\r\n        const keyword: string = newProps.keyword\r\n        self.getBooks(keyword).then(function (books: any) {\r\n            const data = self.sortData(books.books) //获取序列化数据\r\n            self.setState({\r\n                books: data,\r\n                category: newProps.category\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 收到数据后更新界面\r\n     */\r\n    componentDidMount(){\r\n        this.setBookData(this.props)\r\n    }\r\n    componentWillReceiveProps(newProps:any){\r\n        this.setBookData(newProps);\r\n    }\r\n\r\n    /**\r\n     * 展示页面详情\r\n     */\r\n    bookDetails(){\r\n        const self:any = this;\r\n        ShowDetails(self.category,self.data);\r\n    }\r\n\r\n    render() {\r\n        const self = this;\r\n        const state: any = this.state //获取传送数据\r\n        return (\r\n            <div className='app-main-books'>\r\n                {\r\n                    state.books.map(function (data: any,index:number) {\r\n                        return <div className=\"main-div-list\" onClick={self.bookDetails.bind({\r\n                            category:self.props.category,\r\n                            data:data\r\n                        })} key={index}>\r\n                            <div className='main-div-li main-list-left'>\r\n                                <img className='main-li-image' src={data.image}></img>\r\n                            </div>\r\n                            <aside className='main-div-li main-list-right'>\r\n                                <p className='main-li-name'>名称:{data.title}</p>\r\n                                <p className='main-li-author'>作者:{data.author}</p>\r\n                                <div className='main-li-tags'>{\r\n                                    data.tags ? (\r\n                                        data.tags.map(function (item: any, index: number) {\r\n                                            return <p className={'main-item-tags'} key={index}>{item}</p>\r\n                                        })\r\n                                    ) : ' '\r\n                                }</div>\r\n                                <p className='main-li-average'>评分:{data.average}</p>\r\n                                <p className='main-li-pubdate'>时间:{data.pubdate}</p>\r\n                            </aside>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Books","import * as React from 'react'\r\nimport './main_style.scss'\r\nimport './list_style.scss'\r\nimport Books from './Books/books_index'\r\nimport Movies from './movies/movies_index'\r\nimport Musics from './musics/musics_index'\r\n\r\nexport class Main extends React.Component<any> {\r\n    constructor() {\r\n        super({})\r\n        this.state = {\r\n            keyword: this.props.keyword,\r\n            category: this.props.category,\r\n            component: <Movies category={this.props.category} keyword={this.props.keyword}/>\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps: any) {\r\n        this.category_component(newProps)\r\n    }\r\n\r\n    /**\r\n     * 获取展示类别组件\r\n     */\r\n    category_component(props: any) {\r\n        const self = this\r\n        const category = props.category\r\n        switch (category) {\r\n            case 'books':\r\n                self.setState({\r\n                    category: props.category,\r\n                    keyword: props.keyword,\r\n                    component: <Books category={props.category} keyword={props.keyword}/>\r\n                })\r\n                break\r\n            case 'movies':\r\n                self.setState({\r\n                    category: props.category,\r\n                    keyword: props.keyword,\r\n                    component: <Movies category={props.category} keyword={props.keyword}/>\r\n                })\r\n                break\r\n            case 'musics':\r\n                self.setState({\r\n                    category: props.category,\r\n                    keyword: props.keyword,\r\n                    component: <Musics category={props.category} keyword={props.keyword}/>\r\n                })\r\n                break\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const state: any = this.state\r\n        return (\r\n            <main className=\"app-main\">{\r\n                state.component\r\n            }</main>\r\n        )\r\n    }\r\n}\r\n\r\n","import * as React from 'react'\r\nimport './search_style.scss'\r\nimport Events = NodeJS.Events;\r\n\r\nexport class Seach extends React.Component<any> {\r\n    shake: any\r\n    category: string\r\n\r\n    constructor() {\r\n        super({})\r\n        this.category = this.props.category\r\n    }\r\n\r\n    handle(e: Events) {\r\n\r\n        const self = this\r\n        if (this.shake != undefined) {\r\n            clearTimeout(this.shake)\r\n        }\r\n        self.shake = setTimeout(function () {\r\n\r\n            let input_value: any = self.refs.searchInput\r\n\r\n            self.props.searchLick(input_value.value, self.props.category)\r\n\r\n        }, 500)\r\n\r\n    }\r\n\r\n    showText(category: string) {\r\n\r\n        /*let input_value: any = this.refs.searchInput\r\n        if (input_value) {\r\n             if (this.category != category) {\r\n                 input_value.value = ''\r\n                 this.category = category\r\n             }\r\n         }*/\r\n\r\n\r\n        switch (category) {\r\n            case 'books':\r\n                return '\\t书名、作者、ISBN'\r\n            case 'movies':\r\n                return '\\t电影、影人、影院、电视剧'\r\n            case 'musics':\r\n                return '\\t唱片名、表演者、条码、ISRC'\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let searchInput: any = this.refs.searchInput\r\n        searchInput.focus()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"search_div_container\">\r\n                <span className='search-img-search'></span>\r\n                <input type=\"search\" className='search-input-search' ref='searchInput'\r\n                       datatype={this.props.category} placeholder={this.showText(this.props.category)}/>\r\n                <button className='search-button-search' onClick={this.handle.bind(this)}>搜索</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport {Seach} from \"./search/search_index\";\r\nimport './header_style.scss';\r\n\r\nexport class Header extends React.Component<any> {\r\n    render() {\r\n        return (\r\n            <header className=\"app-header\">\r\n                <Seach category={this.props.category} searchLick ={this.props.searchLick}/>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n","import * as React from 'react'\r\nimport './app_style.scss'\r\nimport getData from './getdata'\r\nimport {Header} from './components/header/header_index'\r\nimport {Main} from './components/main/main_index'\r\nimport {Footer} from './components/footer/footer_index'\r\n\r\nexport class App extends React.Component {\r\n    category: string\r\n    keyword: string\r\n\r\n    constructor() {\r\n        super({}, {})\r\n        this.category = 'movies'\r\n        this.keyword = '大话西游'\r\n        this.state = {\r\n            category: this.category,\r\n            keyword: this.keyword\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  展示类别\r\n     * @param {string} keyword\r\n     * @param {string} category\r\n     */\r\n    showCategory(keyword: string, category: string) {\r\n        this.setState({\r\n            category: category,\r\n            keyword: keyword\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 渲染器\r\n     * @returns {any}\r\n     */\r\n    render() {\r\n        const state: any = this.state\r\n        return (\r\n            <div className=\"douban-app\">\r\n                <article className={'showDetails'}></article>\r\n                <Header category={state.category} keyword={state.keyword} searchLick={this.showCategory.bind(this)}/>\r\n                <Main category={state.category} keyword={state.keyword}/>\r\n                <Footer category={state.category} keyword={state.keyword} showCategory={this.showCategory.bind(this)}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = ReactDOM;","import './css/grid.scss';\r\nimport './index.scss';\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { App } from \"./app\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById(\"douban-pocket\")\r\n);\r\n"],"sourceRoot":""}